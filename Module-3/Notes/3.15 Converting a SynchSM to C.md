A synchSM can be translated to C code for a microcontroller with a timer. The code is similar to that for an SM, with the following additions:

- A global variable TimerFlag
- A TimerISR() function that simply raises that flag
- main() code that initializes the timer to tick at the synchSM's tick rate
- main() code that waits for the flag to be raised and clears the flag, to govern the rate the synchSM tick function is called

Consider the following example:

![[blinkingLED example.png]]

This can be converted to:

```C
#include "RIMS.h"

volatile unsigned char TimerFlag = 0; // ISR raises, main() lowers

void TimerISR() {
   TimerFlag = 1;
}

enum BL_States { BL_SMStart, BL_LedOff, BL_LedOn } BL_State;

void TickFct_Blink() {

   switch ( BL_State ) { //Transitions
      case BL_SMStart:
         BL_State = BL_LedOff; //Initial state
         break;
      case BL_LedOff:
         BL_State = BL_LedOn;
         break;
      case BL_LedOn:
         BL_State = BL_LedOff;
         break;
      default:
         BL_State = BL_SMStart;
         break;
   }

   switch ( BL_State ) { //State actions
      case BL_LedOff:
         B0 = 0;
         break;
      case BL_LedOn:
         B0 = 1;
         break;
      default:
         break;
   }
}

void main() {
   B = 0; //Init outputs
   TimerSet(2000);
   TimerOn(); 
   BL_State = BL_SMStart; // Indicates initial call to tick-fct
   while (1) {         
      TickFct_Blink();      // Execute one synchSM tick
      while (!TimerFlag){}  // Wait for BL's period
      TimerFlag = 0;        // Lower flag
   }
}
```
